; PlatformIO Project Configuration File
;
;   Build options: build flags, source filter
;   Upload options: custom upload port, speed and extra flags
;   Library options: dependencies, extra library storages
;   Advanced options: extra scripting
;
; Please visit documentation for the other options and examples
; https://docs.platformio.org/page/projectconf.html

[platformio]
default_envs = station

[env:calidevice]
platform = espressif32
board = esp-wrover-kit
framework = arduino
build_flags = -DROLE_STATION
build_src_filter = +<calidevice/>
monitor_speed = 115200
lib_deps = 
	; sparkfun/SparkFun SCD4x Arduino Library@^1.1.2 // redundant library
	bblanchon/ArduinoJson@^6.21.2
	sensirion/Sensirion I2C SCD4x@^1.1.0

[env:station]
platform = espressif32@^3.0.0
board = esp-wrover-kit
framework = arduino
build_flags = -DROLE_STATION
build_src_filter = +<station/>
monitor_speed = 115200
lib_deps = 
	; sparkfun/SparkFun SCD4x Arduino Library@^1.1.2 // redundant library
	bblanchon/ArduinoJson@^6.21.2
	sensirion/Sensirion I2C SCD4x@^1.1.0

[env:gateway]
platform = espressif32
board = esp32-s3-devkitc1-n4r2  ; ESP32-S3 DevKitC 1 (4MB Flash, 2MB PSRAM)
; If your board has different flash/PSRAM, change accordingly:
; - esp32-s3-devkitc1-n4r8 (4MB Flash, 8MB PSRAM)
; - esp32-s3-devkitc1-n16r8 (16MB Flash, 8MB PSRAM) - for N16R8 variant
; Matches Arduino IDE board: "ESP32S3_Dev_Module"
framework = arduino
build_flags = -DROLE_GATEWAY
build_src_filter = +<gateway/>
monitor_speed = 115200
upload_speed = 921600
board_build.partitions = default.csv
; Note: ESP32-S3 DevKitC 1 has two USB-C ports:
; - COM port: USB-to-UART bridge (CP2102 chip) - use this for programming and serial monitor
; - USB port: Native USB OTG (for advanced USB functionality)
; IMPORTANT: Install CP210X driver before use: https://www.silabs.com/developers/usb-to-uart-bridge-vcp-drivers
lib_deps = 
	; sparkfun/SparkFun SCD4x Arduino Library@^1.1.2 // redundant library
	bblanchon/ArduinoJson@^6.21.2
	sensirion/Sensirion I2C SCD4x@^1.1.0

[env:button]
platform = espressif32@^3.0.0
board = esp-wrover-kit
framework = arduino
build_flags = -DROLE_BUTTON
build_src_filter = +<button/>
monitor_speed = 115200
upload_speed = 115200
lib_deps = 
	bblanchon/ArduinoJson@^6.21.2
	tzapu/WiFiManager@^2.0.16-rc.2
